
# HY-S301 Line Sensor –¥–ª—è Pybricks (SPIKE Prime)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **8-–∫–∞–Ω–∞–ª—å–Ω—ã–π –ª–∏–Ω–µ–π–Ω—ã–π –¥–∞—Ç—á–∏–∫ HY-S301 / HW-529** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ LPF2‚Äë—Å–µ–Ω—Å–æ—Ä–∞ –¥–ª—è LEGO SPIKE Prime —Å –ø—Ä–æ—à–∏–≤–∫–æ–π **Pybricks**.

Arduino Pro Micro —ç–º—É–ª–∏—Ä—É–µ—Ç LPF2‚Äë—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ UART. –î–∞—Ç—á–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ `PUPDevice`.

---

# Hardware

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –î–∞—Ç—á–∏–∫ –ª–∏–Ω–∏–∏ 8 –∫–∞–Ω–∞–ª—å–Ω—ã–π HY-S301 
- –ú–æ–¥—É–ª—å HW-529 –∞–Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ 8-–∏ –∫–∞–Ω–∞–ª—å–Ω–æ–≥–æ –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä–∞
- Arduino Pro Micro
- 2√ó –≤–∏–Ω—Ç–∞ M3 + –≥–∞–π–∫–∏
- —Ä–∞—Å–ø–µ—á–∞—Ç–∞–Ω–Ω–æ–µ –∫—Ä–µ–ø–ª–µ–Ω–∏–µ [HY-S301_Lego_mount.stl](HY-S301_Lego_mount.stl)
- –ü—Ä–æ–≤–æ–¥ LPF2

## –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
![img1](img/1.jpg)
![img2](img/2.jpg)
![img3](img/3.jpg)
![img4](img/4.jpg)

## –†–æ–±–æ—Ç
[line_follower_base.io](line_follower_base.io) ‚Äî –º–æ–¥–µ–ª—å SPIKE-—Ä–æ–±–æ—Ç–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ –ª–∏–Ω–∏–∏.

---

## –ü—Ä–æ–≤–æ–¥–∫–∞

### üéõ Arduino Pro Micro ‚Üí HY‚ÄëS301

```
HY‚ÄëS301       Pro Micro
------------------------
S0        ‚Üí   D7
S1        ‚Üí   D8
S2        ‚Üí   D9
OUT       ‚Üí   A1
VCC       ‚Üí   5V
GND       ‚Üí   GND
```

### üîå Arduino Pro Micro ‚Üí SPIKE Prime (LPF2 UART)

```
SPIKE Prime       Pro Micro
----------------------------
TX           ‚Üí    RX1 (D0)
RX           ‚Üí    TX0 (D1)
5V           ‚Üí    VCC
GND          ‚Üí    GND
```

---

# Software

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (Arduino)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:

**LumpDeviceBuilder**  
https://github.com/devilhyt/lump-device-builder-library

---

## –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è (—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å MBC‚Äë–¥–∞—Ç—á–∏–∫–æ–º)

–§–∞–π–ª—ã –ª–µ–∂–∞—Ç –≤ –ø–∞–ø–∫–µ mbc_compatible.

–≠–º—É–ª—è—Ü–∏—è –¥–∞—Ç—á–∏–∫–∞:

**MBC Line Following Sensor**  
https://www.axione.shop/product-page/mbc-line-following-sensor

–í—ã–¥–∞—ë—Ç —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª.

---

## –í—Ç–æ—Ä–∞—è –≤–µ—Ä—Å–∏—è (–ø—Ä–æ—Å—Ç–∞—è LINE8)

–ü—Ä–æ—à–∏–≤–∫–∞ Arduino –≤ –ø–∞–ø–∫–µ *code*.

–ü–µ—Ä–µ–¥–∞—ë—Ç —Ä–æ–≤–Ω–æ **8 –±–∞–π—Ç (0‚Äì255)** ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ.

–ü—Ä–∏–º–µ—Ä —á—Ç–µ–Ω–∏—è –≤ pybricks [sensor_read.py](sensor_read.py)

–¢–∞–∫–∂–µ –µ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ –ª–∏–Ω–∏–∏. [LineFollower_simple.py](LineFollower_simple.py)

---
